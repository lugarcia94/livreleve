"use strict";var html='\n<div class="product-actions">\n    <div class="product-customize" v-if="custom.isCustom && !custom.finalize">\n        <customize ref="customize"></customize>\n    </div>\x3c!--/.product-customize--\x3e\n    \n    <div class="list-customs-selected" v-if="custom.finalize">\n        <ul>\n            <li v-for="item in custom.selecteds">\n                <span class="tooltip"> {{ item.category }} </span>\n                <img :src="item.image" :alt="item.name"/>\n            </li>\n        </ul>\n    </div>\x3c!--/.list-customs-selected --\x3e\n\n    <div class="quantity-inner default" v-if="(custom.isCustom && custom.finalize) || !custom.isCustom ">\n        <div class="form-controls">\n            <div class="form-quantity" @click="quantity(\'minus\')">\n                <i class="btn-quantity btn-minus">-</i>\n            </div>\x3c!--/.form-quantity --\x3e\n\n            <div class="form-quantity">\n                <input type="text" class="field-quantity" name="field-quantity" value="01" v-model="product.quantity" disabled/>\n            </div>\x3c!--/.form-quantity --\x3e\n\n            <div class="form-quantity" @click="quantity(\'plus\')">\n                <i class="btn-quantity btn-plus">+</i>\n            </div>\x3c!--/.form-quantity --\x3e\n        </div>\x3c!--/.form-controls --\x3e\n        \n        <button class="buy-button" @click="mountProduct()">\n            Comprar\n        </button>\x3c!--/.buy-button --\x3e\n    </div>\x3c!--/.quantity-inner --\x3e\n</div>\x3c!--/.product-actions --\x3e\n';Vue.component("buy-button",{template:html,data:function(){return{custom:{isCustom:"",finalize:!1,selecteds:""},product:{quantity:1,sku:""}}},created:function(){this.verifyIsCustom()},methods:{verifyIsCustom:function(){var e=this;$.get("https://sistema.moveispracasa.com.br/api/products/"+skuJson_0.productId,function(t){t.length?e.custom.isCustom=t[0].isCustomized:e.custom.isCustom=!1})},summaryCustom:function(t){this.custom.finalize=!0,this.product.sku=t.sku,this.custom.selecteds=t.selecteds.map(function(t){return{category:t.name,name:t.selected.name,image:t.selected.image}})},quantity:function(t){"plus"==t?this.product.quantity++:this.product.quantity<=1?this.product.quantity=1:this.product.quantity--},mountProduct:function(){this.custom.isCustom?this.addToCart([{product:{sku:this.product.sku,quantity:this.product.quantity},custom:{isCustom:!0,attachment:this.formatedAttachment()}}]):this.addToCart([{product:{sku:skuJson.skus[0].sku,quantity:this.product.quantity},custom:{isCustom:!1,attachment:""}}])},addToCart:function(e){vtexjs.checkout.getOrderForm().then(function(t){return vtexjs.checkout.addToCart([{id:e[0].product.sku,quantity:e[0].product.quantity,seller:"1"}],null,1)}).done(function(t){e[0].custom.isCustom&&vtexjs.checkout.addItemAttachment(t.items.length-1,"Caracteristicas",{"Personalização":e[0].custom.attachment}),location.href="/checkout/#cart"})},formatedAttachment:function(){for(var t={},e=0;e<this.custom.selecteds.length;e++)t[this.custom.selecteds[e].category]=this.custom.selecteds[e].name;return JSON.stringify(t).replace(/[\\"{}]/g,"")}}});var $cart='<div class="cart-wrapper">\n                <a href="/checkout">\n                    <i class="ico ico-cart"></i>\n                    <span class="cart-qty"> {{ cart.amount }} </span>\n                </a>\n            </div>';Vue.component("mini-cart",{template:$cart,data:function(){return{cart:{show:!1,products:[],amount:null,priceTotal:null}}},created:function(){this.getProducts()},mounted:function(){this.events()},methods:{getProducts:function(){var e=this;vtexjs.checkout.getOrderForm().then(function(t){e.cart.products=[];t.items.filter(function(t){return e.cart.products.push({sku:t.id,link:t.detailUrl,price:helpers.formatMoney(t.price/100,2,",",".","R$"),name:t.name,image:t.imageUrl})});e.cart.amount=t.items.length,e.cart.priceTotal=helpers.formatMoney(t.value/100,2,",",".","R$")})},events:function(){var e=this;$("body").on("click",".mini-cart .cart-products .product-remove",function(t){t.preventDefault(),e.removeItem($(this).attr("data-index"))}),$("body").on("click",".nav-teritary .mini-cart a",function(t){t.preventDefault(),e.cart.show=!0}),$("body").on("click",".cart .title .cart-close",function(t){t.preventDefault(),e.cart.showItem=!1})},removeItem:function(n){var e=this;vtexjs.checkout.getOrderForm().then(function(t){var e=t.items[n];return e.index=n,vtexjs.checkout.removeItems([e])}).done(function(t){e.getProducts(),toast({type:"success",title:"Item removido com sucesso"})})}}});html='<div class="countdown__component">\n    <h3 class="countdown__title">\n        Gostando da feira?\n    </h3>\n\n    <p> Cadastre seu email abaixo para ganhar um cupom no final neste dia de feira. </p>\n\n    <div class="countdown__content">\n        <span> 00 : <small>Dias</small></span>\n        <span> 00 : <small>Horas</small></span>\n        <span> 00 : <small>Min</small></span>\n        <span> 00 <small>Seg</small></span>\n    </div>\n\n    <form action="?" class="countdown__form">\n        <div class="form-row">\n            <div class="form-controls">\n                <label for="field-name" class="form-label hidden">Nome:</label>     \n                <input tapy="text" name="field-name" id="field-name" placeholder="Digite seu nome" class="field" v-model="name">\n            </div>\n        \n            <div class="form-controls">\n                <label for="field-email" class="form-label hidden">Telefone:</label>     \n                <input tapy="number" name="field-phone" id="field-phone" placeholder="Digite seu telefone" class="field" v-model="phone">\n            </div>\n        </div>\n        \n        <div class="form-row">\n            <div class="form-controls">\n                <label for="field-email" class="form-label hidden">E-mail:</label>     \n                <input tapy="email" name="field-email" id="field-email" placeholder="Digite seu e-mail" class="field" v-model="email">\n            </div>\n        </div>\n\n        <div class="form-row">\n            <div class="form-controls">\n                <button class="send__form" @click.stop.prevent="validateBeforeSubmit()">\n                    Enviar\n                </button>\n            </div>\n        </div>\n    </form>\n</div>';Vue.component("countdown-component",{template:html,data:function(){return{name:"",phone:"",email:""}},mounted:function(){this.countdown()},methods:{countdown:function(){$(".countdown__content").countdown("2019/06/09 20:00:00"),$(".countdown__content").on("update.countdown",function(t){$(".countdown__content").html(t.strftime("\n                    <span> %D : <small>Dias</small></span>\n                    <span> %H : <small>Horas</small></span>\n                    <span> %M : <small>Min</small></span>\n                    <span> %S <small>Seg</small></span>\n                "))})},validateBeforeSubmit:function(){return this.isEmpty(this.name)?(swal({type:"warning",text:"O campo nome é obrigatorio."}),!1):this.isEmpty(this.phone)?(swal({type:"warning",text:"O campo telefone é obrigatorio."}),!1):/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(this.email)?void this.sendFormContant():(swal({type:"warning",text:"Informe um e-mail valido!"}),!1)},sendFormContant:function(){var e=this;$.ajax({url:"//api.vtexcrm.com.br/woodprime/dataentities/ST/documents",type:"POST",dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json"},data:JSON.stringify({name:e.name,email:e.email,phone:e.phone}),success:function(t){swal({type:"success",text:"Sua mensagem foi enviada com sucesso, em breve entraremos em contato."}),e.clearForm()},error:function(t){swal({type:"error",text:"Ocorreu um erro ao cadastrar seu email tente novamente mais tarde."})}})},clearForm:function(){this.name="",this.email="",this.phone=""},isEmpty:function(t){return 1==(""==t||null==t||null==t)}}});html='\n<div class="quantity-inner custom">\n    <button class="product-open-customize" @click="getCustom()">Personalizar produto</button>\x3c!--/.product-open-customize --\x3e\n\n    <transition name="modal">\n        <div class="main-customize" v-show="showModal">\n            <div class="cssload-container" v-if="load">\n                <div class="cssload-shell">\n                    <div class="cssload-double-torus"></div>\n                    <span>Carregando Personalizações...</span> \n                </div>\x3c!--/.cssload-shell --\x3e\n            </div>\x3c!--/.cssload-container --\x3e\n            <div class="header-customize">\n                <div class="title-customize">\n                    <h3>Personalização</h3>\n                    <button type="button" class="customize-close" @click="showModal = false">+</button>\n                </div>\n            </div>\x3c!--/.header-customize --\x3e\n            \n            <div class="body-customize owl-carousel">\n                <div class="col-item customize-colors" v-for="item in customs" v-if="item.category == \'customized-color\'">\n                    <div class="customize-top">\n                        <div class="col-left">\n                            <div class="image-select">\n                                <img :src="item.selected.image" alt="item.selected.name"/>\n                                <span class="name-color"> {{ item.selected.name }} </span>\n                            </div>\x3c!-- /.image-select --\x3e\n                        </div>\x3c!-- /.col-left --\x3e\n\n                        <div class="col-right">\n                            <ul class="list">\n                                <li v-for="custom in item.customs" :class="{ selected: custom.selected }" @click="selectCustoms(item, custom)">\n                                    <img :src="custom.image" :alt="custom.name" width="50"/>\n                                </li>\n                            </ul>\x3c!-- /.list --\x3e\n                        </div>\x3c!-- /.col-right --\x3e\n                    </div>\x3c!-- /.customize-top --\x3e\n\n                    <div class="customize-bottom">\n                        <div class="item-selected">\n                            <h6> Escolha a cor do produto </h6>\n                        </div>\x3c!-- /.item-selected --\x3e\n\n                        <div class="customize-bottom-btn">\n                            <button class="btn-next" :class="{ \'disabled\': !item.selected.selected }">\n                                Próximo passo\n                            </button>\x3c!-- /.btn-next --\x3e\n                        </div>\x3c!-- /.customize-bottom-btn --\x3e\n                    </div>\x3c!-- /.customize-bottom --\x3e\n                </div>\x3c!-- /.col-item --\x3e\n\n                <div class="col-item customize-painting" v-for="item in customs" v-if="item.category == \'customized-finishing\'">\n                    <div class="customize-top">\n                        <ul class="list-painting">\n                            <li v-for="custom in item.customs" @click="selectCustoms(item, custom)">\n                                <header class="title-painting">\n                                    <h6> Pintura {{ custom.name }} </h6>\n                                </header>\n                                \n                                <p> {{ custom.description }} </p>\n                            \n                                <button class="btn-painting" :class="{ selected: custom.selected }">\n                                    Escolher {{ custom.name }}\n                                </button>\n                            </li>\n                        </ul>\x3c!-- /.list-painting --\x3e\n                    </div>\x3c!-- /.customize-top --\x3e\n\n                    <div class="customize-bottom">\n                        <div class="item-selected">\n                            <h6> Escolha o tipo de pintura </h6>\n                        </div>\x3c!-- /.item-selected --\x3e\n\n                        <div class="customize-bottom-btn">\n                            <button class="btn-prev">\n                                Anterior\n                            </button>\x3c!-- /.btn-prev --\x3e\n\n                            <button class="btn-next" :class="{ \'disabled\': !item.selected.selected }">\n                                Próximo passo \n                            </button>\x3c!-- /.btn-next --\x3e\n                        </div>\x3c!-- /.customize-bottom-btn --\x3e\n                    </div>\x3c!-- /.customize-bottom --\x3e\n                </div>\x3c!-- /.col-item --\x3e\n\n                <div class="col-item customize-fabric" v-for="item in customs" v-if="item.category == \'customized-fabric\'">\n                    <div class="customize-top">\n                        <div class="col-left">\n                            <div class="image-select">\n                                <img :src="item.selected.image" alt="item.selected.name"/>\n                                <span class="name-color"> {{ item.selected.name }} </span>\n                            </div>\x3c!-- /.image-select --\x3e\n                        </div>\x3c!-- /.col-left --\x3e\n\n                        <div class="col-right">\n                            <ul class="list">\n                                <li v-for="custom in item.customs" :class="{ selected: custom.selected }" @click="selectCustoms(item, custom)">\n                                    <img :src="custom.image" :alt="custom.name" width="50"/>\n                                </li>\n                            </ul>\x3c!-- /.list --\x3e\n                        </div>\x3c!-- /.col-right --\x3e\n                    </div>\x3c!-- /.customize-top --\x3e\n\n                    <div class="customize-bottom">\n                        <div class="item-selected">\n                            <h6> Escolha a cor do tecido </h6>\n                        </div>\x3c!-- /.item-selected --\x3e\n\n                        <div class="customize-bottom-btn">\n                            <button class="btn-prev">\n                                Anterior\n                            </button>\x3c!-- /.btn-prev --\x3e\n\n                            <button class="btn-next" :class="{ \'disabled\': !item.selected.selected }">\n                                Próximo passo \n                            </button>\x3c!-- /.btn-next --\x3e\n                        </div>\x3c!-- /.customize-bottom-btn --\x3e\n                    </div>\x3c!-- /.customize-bottom --\x3e\n                </div>\x3c!-- /.col-item --\x3e\n\n                <div class="col-item customize-backrest" v-if="skus.show">\n                    <div class="customize-top">\n                        <div class="col-list-backrest" v-for="item in skus.skus">\n                            <div class="item-backrest">\n                                <header class="title-backrest">\n                                    <h6> {{ item.selected.name }} </h6>\n                                </header>\n                                \n                                <div class="item-content">\n                                    <p> {{ item.description }} </p>\n\n                                    <strong> Valor: {{ item.selected.price }} </strong>\n\n                                    <button class="btn-backrest" :class="{ selected: item.selected.selected }" @click="polyfillSelectorSku(item)">\n                                        Escolher {{ item.selected.name }}\n                                    </button>\x3c!-- /.btn-backrest --\x3e\n                                </div>\x3c!-- /.item-content --\x3e\n                            </div>\x3c!-- /.item-backrest --\x3e\n                        </div>\x3c!-- /.col-list-backrest --\x3e\n                    </div>\x3c!-- /.customize-top --\x3e\n\n                    <div class="customize-bottom">\n                        <div class="item-selected">\n                            <h6> Escolha o tipo do encosto </h6>\n                        </div>\x3c!-- /.item-selected --\x3e\n\n                        <div class="customize-bottom-btn">\n                            <button class="btn-prev">\n                                Anterior\n                            </button>\x3c!-- /.btn-prev --\x3e\n\n                            <button class="btn-next" :class="{ disabled: !skus.selected }">\n                                Confirmar\n                            </button>\x3c!-- /.btn-next --\x3e\n                        </div>\x3c!-- /.customize-bottom-btn --\x3e\n                    </div>\x3c!-- /.customize-bottom --\x3e\n                </div>\x3c!-- /.col-item --\x3e\n\n                <div class="col-item customize-abstract">\n                    <div class="customize-top">\n                        <div class="col-list-abstract">\n                            <div class="col-item" v-for="item in selecteds">\n                                <div class="item-category">\n                                    <span> {{ item.name }} </span>\n                                </div>\x3c!-- /.item-category --\x3e\n\n                                <div class="item-card">\n                                    <div class="item-name">\n                                        <span> {{ limitWord(item.selected.name) }}  </span>\n                                    </div>\x3c!-- /.item-image --\x3e\n                                    \n                                    <div class="item-image">\n                                        <img :src="item.selected.image" :alt="item.selected.name">\t\n                                    </div>\x3c!-- /.item-image --\x3e                                \n                                </div>\n                                \n                            </div>\x3c!-- /.col-item --\x3e\n                        </div>\x3c!-- /.col-list-abstract --\x3e\n                    </div>\x3c!-- /.customize-top --\x3e\n\n                    <div class="customize-bottom">\n                        <div class="item-selected">\n                            <h6> Confirme as opções acima </h6>\n                        </div>\x3c!-- /.item-selected --\x3e\n\n                        <div class="customize-bottom-btn">\n                            <button class="btn-prev">\n                                Anterior\n                            </button>\x3c!-- /.btn-prev --\x3e\n\n                            <button class="btn-next" @click="finalize()">\n                                Confirmar \n                            </button>\x3c!-- /.btn-next --\x3e\n                        </div>\x3c!-- /.customize-bottom-btn --\x3e\n                    </div>\x3c!-- /.customize-bottom --\x3e\n                </div>\x3c!-- /.col-item --\x3e\n            </div>\x3c!-- /.body-customize --\x3e\n        </div>\x3c!-- /.main-customize --\x3e\n    </transition>\n    <transition name="modal">\n        <span class="overlay" v-show="showModal" @click="showModal = false"></span>\n    </transition>\n</div>\x3c!-- /.quantity-inner custom --\x3e\n';Vue.component("customize",{template:html,data:function(){return{showModal:!1,load:!1,customs:"",selecteds:[],skus:{show:1<skuJson.skus.length,skus:"",selected:!1}}},mounted:function(){this.triggers()},methods:{getCustom:function(){var n=this;n.load=!0,n.showModal=!0,$.get("https://sistema.moveispracasa.com.br/api/products/"+skuJson_0.productId,function(t){n.customs=t[0].JSONCustom.map(function(t,e){return{name:t.category_name,category:t.tapy,customs:n.polyfillCustomItem(t.custom),selected:{name:t.custom[0].name,image:t.custom[0].image,selected:!1}}}),n.skus.skus=t[0].skus.map(function(t,e){return{sku:t.skuId,name:"Encosto",category:"skus",description:t.description,selected:{name:t.name,image:n.buildImage(t.url),price:n.getPriceBySku(t.skuId),selected:!1}}}),n.addSlide()}),setTimeout(function(){n.load=!1},2e3)},getPriceBySku:function(e){if(e)return skuJson.skus.filter(function(t){return t.sku==e})[0].bestPriceFormated},selectCustoms:function(t,e){if(e){this.checkeds(t,e);for(var n=0;n<this.selecteds.length;n++)if(this.selecteds[n].category==t.category)return this.selecteds[n].selected={name:e.name,image:e.image};this.selecteds.push({category:t.category,name:t.name,selected:{name:e.name,image:e.image}})}},checkeds:function(e,n){var s=this;"skus"==e.category?s.skus.skus.filter(function(t){1==t.selected.selected&&(t.selected.selected=!1),t.selected.name==n.name&&(t.selected.selected=!0,s.skus.selected=!0)}):s.customs.filter(function(t){e.category==t.category&&(t.customs.filter(function(t){1==t.selected&&(t.selected=!1)}),t.customs.filter(function(t){t.name==n.name&&(t.selected=!0)}),t.selected={category:e.category,name:n.name,image:n.image,selected:!0})})},polyfillCustomItem:function(t){return t.map(function(t,e){return{name:t.name,image:t.image,description:t.description,selected:!1}})},polyfillSelectorSku:function(t){return this.selectCustoms({category:t.category,name:t.name,selected:!1},{name:t.selected.name,image:t.selected.image,selected:!1})},buildImage:function(t){if(t)return"https://woodprime.vteximg.com.br/arquivos/"+t},finalize:function(){this.showModal=!1;var t=this.skus.skus.filter(function(t){return 1==t.selected.selected});App.$refs.product.$refs.buyButton.summaryCustom({selecteds:this.selecteds,sku:this.validadeExistSku(t[0])})},validadeExistSku:function(t){return t?t.sku:skuJson.skus[0].sku},limitWord:function(t){if(t){var e=t.split(" "),n="";if(2<e.length){for(var s=0;s<=1;s++)n+=e[s]+" ";return n+"..."}return t}},addSlide:function(){var t=setInterval(function(){$(".body-customize.owl-carousel").length&&($(".body-customize.owl-carousel").owlCarousel({loop:!1,nav:!1,autoHeight:!1,mouseDrag:!1,touchDrag:!1,responsive:{0:{items:1}}}),clearInterval(t))},1500)},triggers:function(){$("body").on("click",".customize-bottom-btn .btn-next:not(.disabled)",function(t){t.preventDefault(),$(".main-customize .body-customize.owl-carousel").trigger("next.owl.carousel")}),$("body").on("click",".customize-bottom-btn .btn-prev",function(t){t.preventDefault(),$(".main-customize .body-customize.owl-carousel").trigger("prev.owl.carousel")})}}});var $discount="<small>\n    <strong> {{ productDiscount(price) }} </strong> à vista.\n</small>";Vue.component("discount-ticket",{template:$discount,props:["price"],data:function(){return{}},created:function(){},mounted:function(){},methods:{productDiscount:function(t){if(t){var e=10*helpers.convertMoneyToFloat(t)/100;return helpers.formatMoney(helpers.convertMoneyToFloat(t)-e,2,",",".","R$")}}}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$instagram='<ul class="photos owl-carousel" v-if="photos.length" v-carousel>\n    <li class="photo" v-for="photo in photos">\n        <a :href="photo.link" target="_blank" :style="{ \'background-image\': \'url(\' + photo.image + \')\' }"></a>\n    </li>\n</ul>';Vue.component("instagram",{template:$instagram,data:function(){return{photos:[]}},mounted:function(){var e=this;this.fetchPhotosMasterData(function(t){e.photos=t.Images})},directives:{carousel:{inserted:function(t){$(t).owlCarousel({loop:!0,nav:!1,dots:!1,autoplay:!1,autoplayTimeout:2e3,autoplayHoverPause:!0,margin:10,responsive:{0:{items:2},600:{items:4}}}).trigger("to.owl.carousel",10)}}},methods:{fetchPhotosMasterData:function(e){var n=this;e&&$.ajax({url:"//api.vtexcrm.com.br/woodprime/dataentities/IN/search?_fields=id,LastHour,Images",type:"GET",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},success:function(t){"23:55"<t[0].LastHour&&n.fetchPhotosInstagram(function(e){n.fetchCurrentServerTime(function(t){n.updatePhotosMasterData(e,t)})}),"object"!==_typeof(t[0].Images)?e({id:"1000001",LastHour:"23:55",Images:[{image:"https://scontent.cdninstagram.com/vp/85d6c162a96fc41bd2bc5458966b54f6/5D8C45C2/t51.2885-15/e35/s320x320/60425985_478249202715337_7907699695769480056_n.jpg?_nc_ht=scontent.cdninstagram.com",link:"https://www.instagram.com/p/ByF0fj1g57H/"},{image:"https://scontent.cdninstagram.com/vp/f55e411bec212e880937ca9d5d676851/5D8E4AC4/t51.2885-15/e35/s320x320/60926175_1167409540128049_1712173510757794939_n.jpg?_nc_ht=scontent.cdninstagram.com",link:"https://www.instagram.com/p/ByAq45DgmMh/"},{image:"https://scontent.cdninstagram.com/vp/d7d5b4974ec5d5cef0c8cc7834cba4cb/5D8CC802/t51.2885-15/e35/s320x320/60713979_1140822956123246_7460019286804764280_n.jpg?_nc_ht=scontent.cdninstagram.com",link:"https://www.instagram.com/p/Bx-GKYYgshY/"},{image:"https://scontent.cdninstagram.com/vp/c71ceee3b36ccdeb2cd7b942a0491188/5D904F62/t51.2885-15/e35/s320x320/60386061_450467449096346_1523834279723661390_n.jpg?_nc_ht=scontent.cdninstagram.com",link:"https://www.instagram.com/p/Bx48h64AXrq/"},{image:"https://scontent.cdninstagram.com/vp/cf6e26b299d08b2ecd5817f7c99833f9/5D8ADBC7/t51.2885-15/e35/s320x320/59890513_2255513628098535_8404148678432915335_n.jpg?_nc_ht=scontent.cdninstagram.com",link:"https://www.instagram.com/p/Bx2Xvmclpbz/"},{image:"https://scontent.cdninstagram.com/vp/e4a02543ccb2a62d24ff8f4d3e221654/5D949F4A/t51.2885-15/e35/s320x320/59630876_305157920365018_1797847226897711159_n.jpg?_nc_ht=scontent.cdninstagram.com",link:"https://www.instagram.com/p/Bxzy7Eolwkj/"}]}):e(t[0])},error:function(t){console.error(t)}})},fetchPhotosInstagram:function(e){e&&$.ajax({url:"https://api.instagram.com/v1/users/2098271925/media/recent/?access_token=2098271925.2f6d77e.330fbe7c945f45bbb381d86ede0d926c",type:"GET",dataType:"jsonp",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},success:function(t){t=(t=t.data.map(function(t,e){if("image"==t.type&&e<10)return{image:t.images.low_resolution.url,link:t.link}})).filter(function(t){return void 0!==t}),e(t)}})},updatePhotosMasterData:function(t,e){t&&e&&$.ajax({url:"//api.vtexcrm.com.br/woodprime/dataentities/IN/documents",type:"PATCH",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},data:JSON.stringify({id:"1000001",LastHour:e,Images:t}),success:function(t){console.log(t)},error:function(t){console.error(t)}})},fetchCurrentServerTime:function(e){e&&$.get("/no-cache/HoraAtualServidor.aspx",function(t){e(/\b\d{2}:\d{2}/g.exec(t)[0])})}}});var $userLogin='<a href="/account" v-if="user.logger">\n    <i class="ico ico-user"></i>\n    <span> Olá, {{ user.name }} </span>\n</a>\n\n<a href="/account" v-else>\n    <i class="ico ico-user"></i>\n    <span>Minha conta</span>\n</a>';Vue.component("user-login",{template:$userLogin,data:function(){return{user:{logger:!1,name:""}}},created:function(){this.getUser()},mounted:function(){},methods:{getUser:function(){var e=this;$.get("/no-cache/profileSystem/getProfile",function(t){e.user.logger=t.IsUserDefined,e.user.name=t.FirstName})}}});var $newsletter='<form class="form" @submit.stop.prevent="validateBeforeSubmit()">\n    <div class="form-controls">\n        <label for="field-email" class="form-label hidden">nome</label>\n        <input v-model="name" class="field" name="field-email" id="field-email" placeholder="Digite seu nome"/>\n    </div>\x3c!-- /.form-controls --\x3e\n\n    <div class="form-controls">\n        <label for="field-email" class="form-label hidden">e-mail</label>\n        <input v-model="email" class="field" name="field-email" id="field-email" placeholder="Digite seu e-mail"/>\n    </div>\x3c!-- /.form-controls --\x3e\n\n    <div class="form-controls">\n        <button class="send-newsletter">enviar</button>\n    </div>\x3c!-- /.form-controls --\x3e\n</form>\x3c!-- /.form --\x3e';Vue.component("form-newsletter",{template:$newsletter,data:function(){return{email:"",name:""}},created:function(){},mounted:function(){},methods:{validateBeforeSubmit:function(){var t=this;return null!=t.email&&""!=t.email&&/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t.email)?null==t.name||""==t.name?(toast({type:"error",title:"Informe seu nome."}),!1):void t.sendNewsletter():(toast({type:"error",title:"Informe um e-mail valido."}),!1)},sendNewsletter:function(){$.ajax({url:"/no-cache/Newsletter.aspx",type:"POST",dataType:"json",data:{newsletterClientName:this.name,newsletterClientEmail:this.email,newsInternalPage:"_",newsInternalPart:"newsletter",newsInternalCampaign:"newsletter:opt-in"},success:function(t){toast({type:"success",title:"E-mail cadastrado com sucesso!"})},error:function(t){toast({type:"success",title:"Ocorreu um erro ao cadastrar seu email tente novamente mais tarde."})}})}}});var $product='\n<div class="shell">\n\t<div class="product-flags">\n\t\t<ul>\n\t\t\t<li v-for="flags in product.flags">\n\t\t\t\t<p class="flag" :class="flags">{{ flags }}</p>\n\t\t\t</li>\n\t\t\t<li v-if="product.price.discount">\n\t\t\t\t<p class="flag discount">{{ product.price.discount }}</p>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class="product-image">\n\t\t<ul class="owl-carousel">\n\t\t\t<li v-for="image in product.images" v-html="image.imageTag"></li>\n\t\t</ul>\n\t</div>\n\t<div class="product-evaluation">\n\t\t<div id="yv-review-quickreview"></div>\n\t</div>\n\t<div class="product-name">\n\t\t<h1>{{ product.name }}</h1>\n\t</div>\n\t<div class="product-price">\n\t\t<del class="list-price"> {{ product.price.list }}  </del>\n\n\t\t<h2 class="best-price"> {{ product.price.best }} </h2>\n \n\t\t<small class="installment-price"> \n\t\t\t{{ product.installments.quantity }}x de {{ product.installments.value }} sem juros\n\t\t</small>\n\n\t\t<small class="cash-price">\n\t\t\t<span>{{ discount(product.price.best) }}</span> à vista.\n\t\t</small>\n\t</div>\x3c!--/.product-price --\x3e\n\t\n\t<buy-button ref="buyButton"></buy-button>\n\t\n\t<div class="product-share">\n        <span>Compartilhe:</span>\n        <ul>\n            <li>\n                <a href="#" class="share-facebook" @click.prevent.default="shareProduct(\'facebook\')"><i class="ico ico-facebook">Facebook</i></a>\n            </li>\n\n            <li>\n                <a href="#" class="share-google-plus" @click.prevent.default="shareProduct(\'google\')"><i class="ico ico-google-plus">Google Plus</i></a>\n            </li>\n\n            <li>\n                <a href="#" class="share-whatsapp" @click.prevent.default="shareProduct(\'whatsapp\')"><i class="ico ico-whatsapp">WhatsApp</i></a>\n            </li>\n        </ul>\n\t</div>\x3c!--/ .product-share --\x3e\n\t\n\t<div class="product-shipping">\n\t\t<label class="controls-label">Calcular frete:</label>\n\t\t<input type="text" class="field-posta-code" v-model="shipping.postalCode" name="field-posta-code" value="" placeholder="Calcule o frete"/>\n\t\t<button class="btn-shipping" @click="validadePostalCode()">OK</button>\x3c!--/ .btn-shipping --\x3e\n\t</div>\x3c!--/.product-shipping --\x3e\n\n\t<div class="product-description" v-if="product.description">\n\t\t<h2>Porque este produto é incrível:</h2>\n\t\t<p v-html="product.description"></p>\n\t</div>\x3c!--/.product-description --\x3e\n\n\t<div class="product-specifications" v-if="product.specifications">\n\t\t<h2>Especificações Técnicas</h2>\n\t\t<table>\n\t\t\t<tr v-for="item in product.specifications">\n\t\t\t\t<th>{{ item.name }}</th>\n\t\t\t\t<td>{{ item.value }}</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\x3c!--/.product-specifications --\x3e\n\n\t<div class="buy-together" v-if="buyTogheter.isBuyTogheter">\n\t\t<h2>Combinação perfeita</h2>\n\t\t<div class="buy-together-wrap">\n\t\t\t<div class="buy-together-product">\n\t\t\t\t<div class="buy-together-image">\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="buy-together-details">\n\t\t\t\t\t<h3></h3>\n\t\t\t\t\t<del></del>\n\t\t\t\t\t<b></b>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="buy-together-flag">\n\t\t\t\t\t<p>-13%</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="buy-together-symbol">\n\t\t\t\t<span>+</span>\n\t\t\t</div>\n\n\t\t\t<div class="buy-together-product">\n\t\t\t\t<div class="buy-together-image">\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="buy-together-details">\n\t\t\t\t\t<h3></h3>\n\t\t\t\t\t<del></del>\n\t\t\t\t\t<b></b>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="buy-together-flag">\n\t\t\t\t\t<p>-13%</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="buy-together-symbol">\n\t\t\t\t<span>=</span>\n\t\t\t</div>\n\t\t\t<div class="buy-together-price">\n\t\t\t\t<p>Leve os 2 juntos por:</p>\n\t\t\t\t<b></b>\n\t\t\t\t<a href="" class="buy-together-btn">Adicionar ao Carrinho</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\x3c!--/.buy-together --\x3e\n\n\t<transition name="modal">\n\t    <div class="modal-mask" v-show="shipping.showModal">\n\t        <div class="modal-wrapper">\n\t            <div class="modal-container modal-shipping">\n\t                <button class="btn-modal-close" @click="shipping.showModal = false">\n\t                    <i class="ico-close">+</i>\n\t                </button>\x3c!-- /.btn-modal-close --\x3e\n\n\t                <div class="cssload-container" v-show="shipping.load">\n\t\t\t\t\t    <div class="cssload-shell">\n\t\t\t\t\t        <div class="cssload-double-torus"></div>\n\t\t\t\t\t    </div>\x3c!-- /.cssload-shell--\x3e\n\t\t\t\t\t</div>\x3c!-- /.cssload-container --\x3e\n\n\t                <header class="title-shipping">\n\t\t\t\t\t\t<h5> Prazos e preços </h5>\n\t\t\t\t\t</header>\x3c!-- /.title-customizer --\x3e\n\n\t                <div class="cols-shipping">\n\t\t\t\t\t\t<div class="table-info-shipping">\n\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th>Tipo</th>\n\t\t\t\t\t\t\t\t\t\t<th>Prazo</th>\n\t\t\t\t\t\t\t\t\t\t<th>Valor</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\n\t\t\t\t\t\t\t\t\t<tr v-for="(item, index) in shipping.logistics">\n\t\t\t\t\t\t\t\t\t\t<td>{{ item.name }}</td>\n\t\t\t\t\t\t\t\t\t\t<td>até {{ item.estimated }} dias uteis</td>\n\t\t\t\t\t\t\t\t\t\t<td>{{ item.price }}</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\x3c!-- /.table-info-shipping --\x3e\n\n\t\t\t\t\t\t<button class="btn-close-shipping" @click="shipping.showModal = false">\n\t\t\t\t\t\t\tFechar\n\t                \t</button>\x3c!-- /.btn-modal-close --\x3e\n\t                </div>\x3c!-- /.cols-shipping --\x3e\n\t            </div>\x3c!-- /.modal-container --\x3e\n\t        </div>\x3c!-- /modal-wrapper --\x3e\n\t    </div>\x3c!-- /.modal-mask --\x3e\n\t</transition>\n</div>\x3c!-- /.shell --\x3e\n';Vue.component("product",{template:$product,data:function(){return{product:{flags:[],images:[],name:null,price:{list:null,best:null,discount:null},installments:{quantity:null,"value:":null},description:null,specifications:[]},shipping:{showModal:!1,postalCode:"",logistics:[],load:!1},cart:{quantity:1,sku:"",seller:"1"},buyTogheter:{isBuyTogheter:!1}}},created:function(){this.getSmallerSku(),this.getProduct()},mounted:function(){this.carouselImage()},filters:{lowercase:function(t){if(t)return t.toLowerCase()}},methods:{getSmallerSku:function(){var n=skuJson_0.skus[0].bestPrice,s=0;skuJson_0.skus.forEach(function(t,e){t.bestPrice<n&&(n=t.bestPrice,s=e)}),this.changePriceBySku(skuJson_0.skus[s].sku)},getProduct:function(){var n=this;$.ajax({url:"/api/catalog_system/pub/products/search/?fq=productId:"+skuJson_0.productId,type:"GET",dataType:"json",success:function(e){n.product.flags=e[0].clusterHighlights,e[0].items[0].images.filter(function(t){return n.product.images.push({imageTag:n.buildImage(t.imageTag,"240","240")})}),n.product.name=e[0].productName,e[0].description.length&&(n.product.description=e[0].description),e[0]["Ficha Técnica"].length&&e[0]["Ficha Técnica"].forEach(function(t){n.product.specifications.push({name:t,value:e[0][t][0]})})}})},buildImage:function(t,e,n){return t.replace(/\#width#/g,e).replace(/\#height#/g,n).replace("~","")},carouselImage:function(){var t=setInterval(function(){$(".product-image .owl-carousel").length&&(1<$(".product-image .owl-carousel li").length?$(".product-image .owl-carousel").owlCarousel({loop:!0,nav:!0,responsive:{0:{items:1}}}):$(".product-image .owl-carousel").fadeIn(),clearInterval(t))},2e3)},changePriceBySku:function(t){var e=this;$.ajax({url:"/produto/sku/"+t,type:"GET",dataType:"json",success:function(t){e.product.price.list=e.formatMoney(t[0].ListPrice,2,",",".","R$"),e.product.price.best=e.formatMoney(t[0].Price,2,",",".","R$"),t[0].ListPrice>t[0].Price&&(e.product.price.discount=e.calcFlagDiscount(t[0].ListPrice,t[0].Price)),e.product.installments.quantity=t[0].BestInstallmentNumber,e.product.installments.value=e.formatMoney(t[0].BestInstallmentValue,2,",",".","R$")}})},calcFlagDiscount:function(t,e){return"-"+parseInt(100*(1-e/t))+"%"},shareProduct:function(t){"facebook"==t&&window.open("http://www.facebook.com/sharer/sharer.php?u="+window.location.href+"&title="+this.product.name,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=5%, left=50%, width=800, height=600"),"google"==t&&window.open("https://plus.google.com/share?url="+window.location.href,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=5%, left=50%, width=800, height=600"),"whatsapp"==t&&window.open("https://api.whatsapp.com/send?text="+this.product.name+"-"+window.location.href,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=5%, left=50%, width=800, height=600")},formatMoney:function(t,e,n,s,i){if(t&&e&&n&&s&&i){t=(t+"").replace(",","").replace(" ","");var o,c,a,r=isFinite(+t)?+t:0,l=isFinite(+e)?Math.abs(e):0,u=void 0===s?",":s,d=void 0===n?".":n,m="";return 3<(m=(l?(o=r,c=l,a=Math.pow(10,c),""+Math.round(o*a)/a):""+Math.round(r)).split("."))[0].length&&(m[0]=m[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(m[1]||"").length<l&&(m[1]=m[1]||"",m[1]+=new Array(l-m[1].length+1).join("0")),i+" "+m.join(d)}},discount:function(t){if(t){var e=10*this.convertMoneyToFloat(t)/100;return this.formatMoney(this.convertMoneyToFloat(t)-e,2,",",".","R$")}},convertMoneyToFloat:function(t){if(t)return parseFloat(t.toString().replace(".","").replace(",",".").replace("R$","").replace("R$ ",""))},validadePostalCode:function(){var t=this;t.shipping.load=!0,null==t.shipping.postalCode||""==t.shipping.postalCode||t.shipping.postalCode.length<8?toast({type:"error",title:"Informe um CEP valido."}):t.getShipping()},getShipping:function(){var n=this;n.shipping.showModal=!0,n.shipping.logistics=[],vtexjs.checkout.simulateShipping([{id:""==n.cart.sku?skuJson.skus[0].sku:n.cart.sku,quantity:n.cart.quantity,seller:"1"}],n.shipping.postalCode,"BRA").done(function(t){for(var e=0;e<t.logisticsInfo[0].slas.length;e++)n.shipping.logistics.push({name:t.logisticsInfo[0].slas[e].name,price:0==t.logisticsInfo[0].slas[e].price?"Gratis":n.formatMoney(t.logisticsInfo[0].slas[e].price/100,2,",",".","R$"),estimated:t.logisticsInfo[0].slas[e].shippingEstimate.replace("bd","")});setTimeout(function(){n.shipping.load=!1},2e3)})}}});var $search='\n<div class="box-search">\n    <button type="button" class="btn-search" @click="showSearch()">\n        <i class="ico ico-search">Abrir busca</i>\n    </button>\n    <div class="main-search">\n        <div class="header-search">\n            <div class="title-search">\n                <h3>Buscar</h3>\n                <button type="button" class="search-close" @click="hideSearch()">+</button>\n            </div>\n        </div>\n        <form class="form-search" @submit.stop.prevent="goSearchPage()">\n            <input type="text" class="input-search" name="input-search" id="input-search" value="" placeholder="Digite aqui sua busca.." v-model="search_query" @keyup="handleSearch($event)" autocomplete="off" required />\n            <button :disabled="!search_query" type="submit" class="btn-search">Buscar</button>\n        </form>\n        <div v-show="search_query" class="body-search">\n            <div v-if="search_context.length" class="search-result">\n                <p class="search-term">resutados para "{{ search_query }}"</p>\n                <div v-for="item in search_context" class="product" v-if="item.thumbUrl">\n                    <div class="product-image" v-html="sizeImageProductSearch(item.thumbUrl)"></div>\n                    <div class="product-information">\n                        <h3 class="product-title">{{ item.name }}</h3>\n                    </div>\n                    <div class="product-link">\n                        <div class="product-flag"></div>\n                        <a :href="item.href" :title="item.name" class="btn-link">\n                            <i class="ico ico-anchor">Página do produto</i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div v-else class="no-result">\n                <p class="search-term">nenhum resultado para "{{ search_query }}"</p>\n                <span>:(</span>\n            </div>\n        </div>\n    </div>\n</div>\n';Vue.component("main-search",{template:$search,props:["items"],data:function(){return{data:[],search_query:"",category:"",category_rewrite:"",search_context:[],suggestions:[],has_suggestions:!1}},methods:{handleSearch:function(){var t=this;this.has_suggestions=!0,this.search_context="";var e=this.search_query,n=new SearchController;clearInterval(window.interval),n.isSearchValid(e)&&(window.interval=setInterval(function(){clearInterval(window.interval),t.autocomplete()},500))},buildImage:function(t){if(t)return'<img src="'+t+'" width="95px" height="95px" />'},sizeImageProductSearch:function(t){if(t){var e=new HelpersComponents;return this.buildImage(e.sizeImageThumb(t,"25-25","95-95"))}},searchContext:function(e){if(this.search_query){var n="function"==typeof e;(new SearchController).getAutocomplete(this.search_query,function(t){n&&e(t||!1)})}},searchProducts:function(e){if(this.search_query){var n="function"==typeof e,t={fq:"productName:"+this.search_query+"&O=OrderByBestDiscountDESC",_from:0,_to:10};(new SearchController).getProducts(t,function(t){n&&e(t||!1)})}},autocomplete:function(){var e=this;this.search_query&&(this.search_context=[],this.suggestions=[],this.searchContext(function(t){t?(e.search_context=t,e.searchProducts(function(t){t?t.length?(t=(new HelpersComponents).addQuantityOnitem(t),e.suggestions=t):e.has_suggestions=!1:nestle.notify().error()})):nestle.notify().error()}))},goSearchPage:function(){this.search_query.length&&this.redirect("/"+this.search_query)},redirect:function(t){if(t)return window.location.href=t,null},convertToMoney:function(t){if(void 0!==t)return this.formatMoney(t,2,",",".","R$")},formatMoney:function(t,e,n,s,i){if(void 0!==t&&e&&n&&s&&i){t=(t+"").replace(",","").replace(" ","");var o=isFinite(+t)?+t:0,c=isFinite(+e)?Math.abs(e):0,a=void 0===s?",":s,r=void 0===n?".":n,l="";return 3<(l=(c?(u=o,d=c,m=Math.pow(10,d),""+Math.round(u*m)/m):""+Math.round(o)).split("."))[0].length&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(l[1]||"").length<c&&(l[1]=l[1]||"",l[1]+=new Array(c-l[1].length+1).join("0")),i+" "+l.join(r)}var u,d,m},rewrite:function(t){if(t)return t.toLowerCase().replace(/\s/g,"-").replace(/[áàãâä]/g,"a").replace(/[éèẽêë]/g,"e").replace(/[íìĩîï]/g,"i").replace(/[óòõôö]/g,"o").replace(/[úùũûü]/g,"u").replace(/ç/g,"c").replace(/(\ |_)+/,"-").replace(/(^-+|-+$)/,"-").replace(/[&]/g,"-")},showSearch:function(){$("body").addClass("search-open")},hideSearch:function(){$("body").removeClass("search-open")}},mounted:function(){},computed:{categories:function(){return this.$store.state.categories}}});var SearchController=function(){this.getProducts=function(t,e){if(t){var n="function"==typeof e;(new SearchServices).getSuggestions(t,function(t){n&&e(t)},function(t){n&&e(!1,t)})}},this.getAutocomplete=function(t,e){if(t){var n="function"==typeof e;(new SearchServices).getAutocomplete(t,function(t){n&&e(t)},function(t){n&&e(!1,t)})}},this.isSearchValid=function(t){if(!(t.length<3))return!0},this.buildWordSearch=function(t){if(t)return t=t.replace(/\s/g,"+")}},SearchServices=function(){var i=new mySearch;this.getSuggestions=function(t,e,n){if(t){var s="function"==typeof e&&"function"==typeof n;i.products(t,function(t){s&&e(t)},function(t){s&&n(t),console.error("SearchServices products",t)})}},this.getAutocomplete=function(t,e,n){if(t){var s="function"==typeof e&&"function"==typeof n;i.autocomplete(t,function(t){s&&e(t)},function(t){s&&n(t),console.error("SearchServices getAutocomplete",t)})}}},mySearch=function(){var i=this;return{products:function(t,e,n){if(t){var s="function"==typeof e&&"function"==typeof n;$.getJSON("/api/catalog_system/pub/products/search"+this.parameters(t),function(t){s&&e(t)},function(t){s&&n(t)})}},autocomplete:function(t,e,n,s){if(t){var i="function"==typeof e&&"function"==typeof n,o={productNameContains:t};$.getJSON("/buscaautocomplete"+this.parameters(o),function(t){i&&e(!!t&&t.itemsReturned)},function(t){i&&n(t)})}},buscapagina:function(t,n,e){if(t){var s="function"==typeof n&&"function"==typeof e;i.ajax("/buscapagina"+this.parameters(t),"GET","",function(t){var e=$.parseHTML(t);s&&(n(e),console.log("buscapagina",e))},function(t){s&&e(t)},!0)}},goPageSearch:function(t){t&&(window.location.href="/"+t)},parameters:function(t){if(!t)return"";var e="";for(var n in t)e+="&"+n+"="+t[n];return"?"+e.substring(1)}}},HelpersComponents=function(){this.sizeImageThumb=function(t,e,n){if(n&&e&&t)return t.replace(e,n)},this.sizeImageProductSearch=function(t,e,n,s){if(e&&n&&t)return s&&(t=t.replace("~/","http://nestlebr.vteximg.com.br/")),t.replace(/\#width\#/g,e).replace(/\#height\#/g,n)},this.addQuantityOnitem=function(t){if(t||t.length)return console.log("items",t),t=t.map(function(t){return t.quantity_item=1,t})}},App=new Vue({el:"#woodprime-app"});